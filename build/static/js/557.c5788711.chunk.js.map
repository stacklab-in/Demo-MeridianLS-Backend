{"version":3,"file":"static/js/557.c5788711.chunk.js","mappings":"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","sources":["pages/auth/jwt/register.js","components/hook-form/rhf-text-field.js","components/hook-form/form-provider.js","sections/auth/jwt/jwt-login-view.js","sections/auth/jwt/jwt-register-view.js"],"sourcesContent":["import { Helmet } from 'react-helmet-async';\n// sections\nimport { JwtRegisterView } from 'src/sections/auth/jwt';\n\n// ----------------------------------------------------------------------\n\nexport default function RegisterPage() {\n  return (\n    <>\n      <Helmet>\n        <title> Jwt: Register</title>\n      </Helmet>\n\n      <JwtRegisterView />\n    </>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { useFormContext, Controller } from 'react-hook-form';\n// @mui\nimport TextField from '@mui/material/TextField';\n\n// ----------------------------------------------------------------------\n\nexport default function RHFTextField({ name, helperText, type, ...other }) {\n  const { control } = useFormContext();\n\n  return (\n    <Controller\n      name={name}\n      control={control}\n      render={({ field, fieldState: { error } }) => (\n        <TextField\n          {...field}\n          fullWidth\n          type={type}\n          value={type === 'number' && field.value === 0 ? '' : field.value}\n          onChange={(event) => {\n            if (type === 'number') {\n              field.onChange(Number(event.target.value));\n            } else {\n              field.onChange(event.target.value);\n            }\n          }}\n          error={!!error}\n          helperText={error ? error?.message : helperText}\n          {...other}\n        />\n      )}\n    />\n  );\n}\n\nRHFTextField.propTypes = {\n  helperText: PropTypes.object,\n  name: PropTypes.string,\n  type: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\nimport { FormProvider as Form } from 'react-hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function FormProvider({ children, onSubmit, methods }) {\n  return (\n    <Form {...methods}>\n      <form onSubmit={onSubmit}>{children}</form>\n    </Form>\n  );\n}\n\nFormProvider.propTypes = {\n  children: PropTypes.node,\n  methods: PropTypes.object,\n  onSubmit: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\n// @mui\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport Alert from '@mui/material/Alert';\nimport Stack from '@mui/material/Stack';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\nimport InputAdornment from '@mui/material/InputAdornment';\n// routes\nimport { paths } from 'src/routes/paths';\nimport { RouterLink } from 'src/routes/components';\nimport { useSearchParams, useRouter } from 'src/routes/hook';\n// config\nimport { PATH_AFTER_LOGIN } from 'src/config-global';\n// hooks\nimport { useBoolean } from 'src/hooks/use-boolean';\n// auth\nimport { useAuthContext } from 'src/auth/hooks';\n// components\nimport Iconify from 'src/components/iconify';\nimport FormProvider from 'src/components/hook-form';\nimport { TextField } from '@mui/material';\nimport axios, { endpoints } from 'src/utils/axios';\nimport { decryptToken, encryptToken } from 'src/utils/common';\nimport { constants } from 'src/utils/constant';\nimport { useSnackbar } from 'src/components/snackbar'\nimport { jwtDecode } from 'src/auth/context/jwt/utils';\n\n// ----------------------------------------------------------------------\n\nexport default function JwtLoginView() {\n\n  const router = useRouter();\n\n  const [errorMsg, setErrorMsg] = useState('');\n  const searchParams = useSearchParams();\n\n\n  // State for login state\n  const [loginState, setLoginState] = useState({\n    email: 'adminuser@test.in',\n    password: 'defaultPassword',\n    emailErr: false,\n    passErr: false\n  });\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const password = useBoolean();\n\n  const handleLogin = async () => {\n\n    const re = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/\n    if (loginState.email.length === 0 || !re.test(loginState.email)) {\n      setLoginState((prev) => ({ ...prev, emailErr: true }));\n      return;\n    }\n    setLoginState((prev) => ({ ...prev, emailErr: false }));\n\n    if (loginState.password.length === 0) {\n      setLoginState((prev) => ({ ...prev, passErr: true }));\n      return;\n    };\n\n    setLoginState((prev) => ({ ...prev, passErr: false }));\n\n    try {\n      setIsSubmitting(true);\n      const apiResponse = await axios.post(endpoints.auth.login, {\n        email: loginState.email,\n        password: loginState.password,\n      });\n\n      if (apiResponse) {\n\n        // Set USER DATA\n        const encryptedUserObj = encryptToken(JSON.stringify(apiResponse.data.data.user));\n        localStorage.setItem(constants.keyUserData, encryptedUserObj);\n\n        // SET TOKEN\n        const encryptedToken = encryptToken(apiResponse.data.data.token);\n        localStorage.setItem(constants.keyUserToken, encryptedToken);\n\n        // SET AXIOS HEADER\n        axios.defaults.headers.common.Authorization = `Bearer ${apiResponse.data.data.token}`;\n        setIsSubmitting(false);\n\n        // Go TO DASHBOARD\n        router.push('/dashboard');\n\n      };\n\n    } catch (error) {\n      setIsSubmitting(false);\n      enqueueSnackbar(error.error, { variant: \"error\" })\n    }\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem(constants.keyUserToken);\n    if (token) {\n      const decrypted = decryptToken(token);\n\n      if (decrypted) {\n\n        const decodedToken = jwtDecode(decrypted);\n        const currentTimestamp = Math.floor(Date.now() / 1000);\n\n        if (decodedToken.exp && decodedToken.exp < currentTimestamp) {\n\n          // Token is expired, clear token and redirect to login page\n          localStorage.clear();\n\n          // Display a message\n          alert(\"Your session has expired. Please log in again.\");\n\n          // Redirect to '/login';\n          window.location.href = '/';\n\n        } else {\n          router.push('/dashboard');\n        }\n      }\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  \n  const renderHead = (\n    <Stack spacing={2} sx={{ mb: 5 }}>\n      <Typography variant=\"h4\">Sign in to Meridian Logistics</Typography>\n\n      {/* <Stack direction=\"row\" spacing={0.5}>\n        <Typography variant=\"body2\">New user?</Typography>\n\n        <Link component={RouterLink} href={paths.auth.jwt.register} variant=\"subtitle2\">\n          Create an account\n        </Link>\n      </Stack> */}\n    </Stack>\n  );\n\n  const renderForm = (\n    <Stack spacing={2.5}>\n      {!!errorMsg && <Alert severity=\"error\">{errorMsg}</Alert>}\n\n      <TextField\n        name=\"email\"\n        label=\"Email address\"\n        value={loginState.email}\n        onChange={(e) => {\n          setLoginState((prev) => ({ ...prev, email: e.target.value, emailErr: false }));\n        }}\n        error={loginState.emailErr}\n        helperText={loginState.emailErr ? 'Please enter valid email!' : null}\n      />\n\n      <TextField\n        name=\"password\"\n        label=\"Password\"\n        type={password.value ? 'text' : 'password'}\n        value={loginState.password}\n        onChange={(e) => {\n          setLoginState((prev) => ({ ...prev, password: e.target.value, passErr: false }))\n        }}\n        error={loginState.passErr}\n        helperText={loginState.passErr ? 'Please enter valid password!' : null}\n\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <IconButton onClick={password.onToggle} edge=\"end\">\n                <Iconify icon={password.value ? 'solar:eye-bold' : 'solar:eye-closed-bold'} />\n              </IconButton>\n            </InputAdornment>\n          ),\n        }}\n      />\n\n      <LoadingButton\n        fullWidth\n        color=\"inherit\"\n        size=\"large\"\n        variant=\"contained\"\n        loading={isSubmitting}\n        onClick={handleLogin}\n      >\n        Login\n      </LoadingButton>\n    </Stack>\n  );\n\n  return (\n    <FormProvider>\n      {renderHead}\n\n      {/* <Alert severity=\"info\" sx={{ mb: 3 }}>\n        Use email : <strong>demo@minimals.cc</strong> / password :<strong> demo1234</strong>\n      </Alert> */}\n\n      {renderForm}\n    </FormProvider>\n  );\n}\n","import * as Yup from 'yup';\nimport { useForm } from 'react-hook-form';\nimport { useState } from 'react';\nimport { yupResolver } from '@hookform/resolvers/yup';\n// @mui\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport Link from '@mui/material/Link';\nimport Alert from '@mui/material/Alert';\nimport Stack from '@mui/material/Stack';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\nimport InputAdornment from '@mui/material/InputAdornment';\n// hooks\nimport { useBoolean } from 'src/hooks/use-boolean';\n// routes\nimport { paths } from 'src/routes/paths';\nimport { RouterLink } from 'src/routes/components';\nimport { useSearchParams, useRouter } from 'src/routes/hook';\n// config\nimport { PATH_AFTER_LOGIN } from 'src/config-global';\n// auth\nimport { useAuthContext } from 'src/auth/hooks';\n// components\nimport Iconify from 'src/components/iconify';\nimport FormProvider, { RHFTextField } from 'src/components/hook-form';\n\n// ----------------------------------------------------------------------\n\nexport default function JwtRegisterView() {\n  const { register } = useAuthContext();\n\n  const router = useRouter();\n\n  const [errorMsg, setErrorMsg] = useState('');\n\n  const searchParams = useSearchParams();\n\n  const returnTo = searchParams.get('returnTo');\n\n  const password = useBoolean();\n\n  const RegisterSchema = Yup.object().shape({\n    firstName: Yup.string().required('First name required'),\n    lastName: Yup.string().required('Last name required'),\n    email: Yup.string().required('Email is required').email('Email must be a valid email address'),\n    password: Yup.string().required('Password is required'),\n  });\n\n  const defaultValues = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n  };\n\n  const methods = useForm({\n    resolver: yupResolver(RegisterSchema),\n    defaultValues,\n  });\n\n  const {\n    reset,\n    handleSubmit,\n    formState: { isSubmitting },\n  } = methods;\n\n  const onSubmit = handleSubmit(async (data) => {\n    try {\n      await register?.(data.email, data.password, data.firstName, data.lastName);\n\n      router.push(returnTo || PATH_AFTER_LOGIN);\n    } catch (error) {\n      console.error(error);\n      reset();\n      setErrorMsg(typeof error === 'string' ? error : error.message);\n    }\n  });\n\n  const renderHead = (\n    <Stack spacing={2} sx={{ mb: 5, position: 'relative' }}>\n      <Typography variant=\"h4\">Get started absolutely free</Typography>\n\n      <Stack direction=\"row\" spacing={0.5}>\n        <Typography variant=\"body2\"> Already have an account? </Typography>\n\n        <Link href={paths.auth.jwt.login} component={RouterLink} variant=\"subtitle2\">\n          Sign in\n        </Link>\n      </Stack>\n    </Stack>\n  );\n\n  const renderTerms = (\n    <Typography\n      component=\"div\"\n      sx={{ color: 'text.secondary', mt: 2.5, typography: 'caption', textAlign: 'center' }}\n    >\n      {'By signing up, I agree to '}\n      <Link underline=\"always\" color=\"text.primary\">\n        Terms of Service\n      </Link>\n      {' and '}\n      <Link underline=\"always\" color=\"text.primary\">\n        Privacy Policy\n      </Link>\n      .\n    </Typography>\n  );\n\n  const renderForm = (\n    <FormProvider methods={methods} onSubmit={onSubmit}>\n      <Stack spacing={2.5}>\n        {!!errorMsg && <Alert severity=\"error\">{errorMsg}</Alert>}\n\n        <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n          <RHFTextField name=\"firstName\" label=\"First name\" />\n          <RHFTextField name=\"lastName\" label=\"Last name\" />\n        </Stack>\n\n        <RHFTextField name=\"email\" label=\"Email address\" />\n\n        <RHFTextField\n          name=\"password\"\n          label=\"Password\"\n          type={password.value ? 'text' : 'password'}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <IconButton onClick={password.onToggle} edge=\"end\">\n                  <Iconify icon={password.value ? 'solar:eye-bold' : 'solar:eye-closed-bold'} />\n                </IconButton>\n              </InputAdornment>\n            ),\n          }}\n        />\n\n        <LoadingButton\n          fullWidth\n          color=\"inherit\"\n          size=\"large\"\n          type=\"submit\"\n          variant=\"contained\"\n          loading={isSubmitting}\n        >\n          Create account\n        </LoadingButton>\n      </Stack>\n    </FormProvider>\n  );\n\n  return (\n    <>\n      {renderHead}\n\n      {renderForm}\n\n      {renderTerms}\n    </>\n  );\n}\n"],"names":["RegisterPage","_jsxs","_Fragment","children","_jsx","Helmet","JwtRegisterView","RHFTextField","_ref","name","helperText","type","other","_objectWithoutProperties","_excluded","control","useFormContext","Controller","render","_ref2","field","error","fieldState","TextField","_objectSpread","fullWidth","value","onChange","event","Number","target","message","FormProvider","onSubmit","methods","Form","JwtLoginView","router","useRouter","_useState","useState","_useState2","_slicedToArray","errorMsg","_useState3","useSearchParams","email","password","emailErr","passErr","_useState4","loginState","setLoginState","enqueueSnackbar","useSnackbar","_useState5","_useState6","isSubmitting","setIsSubmitting","useBoolean","handleLogin","_asyncToGenerator","_regeneratorRuntime","mark","_callee","re","apiResponse","encryptedUserObj","encryptedToken","wrap","_context","prev","next","length","test","abrupt","axios","endpoints","sent","encryptToken","JSON","stringify","data","user","localStorage","setItem","constants","token","concat","push","t0","variant","stop","apply","arguments","useEffect","getItem","decrypted","decryptToken","decodedToken","jwtDecode","currentTimestamp","Math","floor","Date","now","exp","clear","alert","window","location","href","renderHead","Stack","spacing","sx","mb","Typography","renderForm","Alert","severity","label","e","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","onToggle","edge","Iconify","icon","LoadingButton","color","size","loading","register","useAuthContext","setErrorMsg","returnTo","get","RegisterSchema","Yup","shape","firstName","required","lastName","useForm","resolver","yupResolver","defaultValues","reset","handleSubmit","formState","PATH_AFTER_LOGIN","console","_x","direction","Link","paths","component","RouterLink","renderTerms","mt","typography","textAlign","underline","xs","sm"],"sourceRoot":""}