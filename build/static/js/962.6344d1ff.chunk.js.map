{"version":3,"file":"static/js/962.6344d1ff.chunk.js","mappings":"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","sources":["sections/three/view.js","pages/dashboard/three.js"],"sourcesContent":["// @mui\nimport { useState, useEffect } from 'react';\n// components\nimport { useSettingsContext } from 'src/components/settings';\nimport { Button, Modal, Divider, Grid, MenuItem, Box, Container, Typography, Menu, TextField, FormControl, InputLabel, Select } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { decryptToken, formatDate, amountInWords } from 'src/utils/common';\nimport axios, { endpoints } from 'src/utils/axios';\nimport { constants } from 'src/utils/constant';\nimport { enqueueSnackbar } from 'notistack';\nimport DataTable from 'react-data-table-component';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport { DateTimePicker } from '@mui/x-date-pickers';\nimport dayjs from 'dayjs';\nimport utc from 'dayjs/plugin/utc';\n// ----------------------------------------------------------------------\n\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: \"600px\",\n  bgcolor: 'background.paper',\n  borderRadius: \"10px\",\n  boxShadow: 24,\n  height: 'auto',\n  p: 2,\n};\ndayjs.extend(utc);\n\nexport default function ShipmentTrackingStatusUpdate() {\n  const settings = useSettingsContext();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [data, setData] = useState([]);\n\n  const fetchData = async () => {\n    try {\n      const decryptedToken = localStorage.getItem(constants.keyUserToken);\n      const accessToken = decryptToken(decryptedToken);\n      const response = await axios.post(endpoints.shipment.list, {}, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        }\n      });\n      if (response) {\n        console.log({ response });\n        setIsLoading(false);\n        setData(response.data.data);\n      }\n    } catch (err) {\n      console.log({ err });\n      enqueueSnackbar('Failed to fetch jobcards!', { variant: 'error' });\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetchData();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\n  const columns = [\n    {\n      name: '#',\n      selector: (row, index) => index + 1,\n      sortable: true,\n      width: '70px',\n    },\n    {\n      name: 'Tracking No.',\n      selector: (row) => row.trackingNo,\n      sortable: true,\n      width: 'auto',\n    },\n    {\n      name: 'Status',\n      selector: (row) => row.statuses[row.statuses.length - 1].value,\n      sortable: true,\n      center: 'true',\n      width: 'auto',\n    },\n    {\n      name: 'Created On',\n      selector: (row) => formatDate(row.createdAt),\n      sortable: true,\n      width: 'auto',\n    },\n    {\n      name: 'Actions',\n      center: 'true',\n      width: 'auto',\n      cell: (row) => (\n        <Button color=\"info\" variant=\"outlined\" onClick={() => handleOpenModal(row)} >\n          Update Status\n        </Button>\n      ),\n    },\n  ];\n\n\n  const [openModal, setOpenModal] = useState(false);\n  const [trackingDetails, setTrackingDetails] = useState({\n    id: '',\n    value: '',\n    location: '',\n    dateTime: null,\n    msg: '',\n    exceptionalMsg: ''\n  });\n\n  const [status, setStatus] = useState({\n    preShipmentDoc: false,\n    pickedUp: false,\n    inTransitOrigin: false,\n    clearanceAtOriginPort: false,\n    inTransitOverseas: false,\n    clearanceAtDestinationPort: false,\n    inTransitDestination: false,\n    delivered: false\n  });\n\n\n  const handleOpenModal = (row) => {\n    setOpenModal(true);\n    const statusObject = row.statuses[row.statuses.length - 1];\n\n\n    if (statusObject.value === 'Pre Shipment Doc') {\n      setStatus((prev) => ({\n        ...prev,\n        preShipmentDoc: true,\n        pickedUp: false,\n        inTransitOrigin: true,\n        clearanceAtOriginPort: true,\n        inTransitOverseas: true,\n        clearanceAtDestinationPort: true,\n        inTransitDestination: true,\n        delivered: true\n\n      }))\n    } else if (statusObject.value === 'Picked Up') {\n      setStatus((prev) => ({\n        ...prev,\n        preShipmentDoc: true,\n        pickedUp: true,\n        inTransitOrigin: false,\n        clearanceAtOriginPort: true,\n        inTransitOverseas: true,\n        clearanceAtDestinationPort: true,\n        inTransitDestination: true,\n        delivered: true\n      }))\n    } else if (statusObject.value === 'In Transit Origin') {\n      setStatus((prev) => ({\n        ...prev,\n        preShipmentDoc: true,\n        pickedUp: true,\n        inTransitOrigin: true,\n        clearanceAtOriginPort: false,\n        inTransitOverseas: true,\n        clearanceAtDestinationPort: true,\n        inTransitDestination: true,\n        delivered: true\n      }))\n    } else if (statusObject.value === 'Clearance at Origin Port') {\n      setStatus((prev) => ({\n        ...prev,\n        preShipmentDoc: true,\n        pickedUp: true,\n        inTransitOrigin: true,\n        clearanceAtOriginPort: true,\n        inTransitOverseas: false,\n        clearanceAtDestinationPort: true,\n        inTransitDestination: true,\n        delivered: true\n      }))\n    } else if (statusObject.value === 'In Transit Overseas') {\n      setStatus((prev) => ({\n        ...prev,\n        preShipmentDoc: true,\n        pickedUp: true,\n        inTransitOrigin: true,\n        clearanceAtOriginPort: true,\n        inTransitOverseas: true,\n        clearanceAtDestinationPort: false,\n        inTransitDestination: true,\n        delivered: true\n      }))\n    } else if (statusObject.value === 'Clearance at Destination Port') {\n      setStatus((prev) => ({\n        ...prev,\n        preShipmentDoc: true,\n        pickedUp: true,\n        inTransitOrigin: true,\n        clearanceAtOriginPort: true,\n        inTransitOverseas: true,\n        clearanceAtDestinationPort: true,\n        inTransitDestination: false,\n        delivered: true\n      }))\n    } else if (statusObject.value === 'In Transit Destination') {\n      setStatus((prev) => ({\n        ...prev,\n        preShipmentDoc: true,\n        pickedUp: true,\n        inTransitOrigin: true,\n        clearanceAtOriginPort: true,\n        inTransitOverseas: true,\n        clearanceAtDestinationPort: true,\n        inTransitDestination: true,\n        delivered: false\n      }))\n    } else if (statusObject.value === 'Delivered') {\n      setStatus((prev) => ({\n        ...prev,\n        preShipmentDoc: true,\n        pickedUp: true,\n        inTransitOrigin: true,\n        clearanceAtOriginPort: true,\n        inTransitOverseas: true,\n        clearanceAtDestinationPort: true,\n        inTransitDestination: true,\n        delivered: true\n      }))\n    }\n\n    setTrackingDetails({\n      value: statusObject.value,\n      location: statusObject.location,\n      // dateTime: dayjs.utc(statusObject.dateTime).local(),\n      dateTime: dayjs(statusObject.dateTime),\n      msg: statusObject.msg,\n      exceptionalMsg: statusObject.exceptionalMsg,\n      id: row._id\n    })\n\n  };\n\n  const handleCloseModal = () => {\n    setOpenModal(false);\n  };\n\n  const handleUpdateTrackingDetails = () => {\n\n    console.log({ trackingDetails });\n    const decryptedToken = localStorage.getItem(constants.keyUserToken);\n    const accessToken = decryptToken(decryptedToken);\n    axios.post(endpoints.shipment.update, trackingDetails,\n      {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        }\n      })\n      .then((res) => {\n        enqueueSnackbar('Shipment updated successfully!', { variant: 'success' });\n        fetchData();\n        handleCloseModal();\n        setTrackingDetails({\n          value: '',\n          location: '',\n          dateTime: null,\n          msg: '',\n          exceptionalMsg: '',\n          id: ''\n        })\n      }).catch((err) => {\n        enqueueSnackbar(err.error || err.msg, { variant: 'error' });\n      })\n  };\n\n  return (\n    <Container maxWidth={settings.themeStretch ? false : 'xl'}>\n      <Typography variant=\"h4\"> Shipment Tracking </Typography>\n      <div style={{ marginTop: \"20px\" }}>\n        <DataTable\n          columns={columns}\n          data={data}\n          pagination\n          progressPending={isLoading}\n        />\n      </div>\n\n\n      {/* Make a modal and make  */}\n      <Modal open={openModal} >\n        <Box sx={style}>\n\n          <Grid container spacing={1} >\n            <Grid item xs={12}>\n              <Typography variant=\"h5\" gutterBottom>\n                Update Tracking Details\n              </Typography>\n            </Grid>\n\n            {/* Add form fields for tracking details */}\n            <Grid item xs={6}>\n              <FormControl fullWidth required>\n                <InputLabel id=\"shipment-status-select\">Select Status</InputLabel>\n                <Select\n                  labelId=\"shipment-status-select\"\n                  id=\"demo-simple-select\"\n                  value={trackingDetails.value}\n                  label=\"Select Status\"\n                  onChange={(e) => {\n                    setTrackingDetails((prev) => ({ ...prev, value: e.target.value }))\n                  }}\n                >\n                  <MenuItem disabled={status.preShipmentDoc} value='Pre Shipment Doc'>Pre Shipment Doc</MenuItem>\n                  <MenuItem disabled={status.pickedUp} value='Picked Up'>Picked Up</MenuItem>\n                  <MenuItem disabled={status.inTransitOrigin} value='In Transit Origin'>In Transit to Origin</MenuItem>\n                  <MenuItem disabled={status.clearanceAtOriginPort} value='Clearance at Origin Port'>Clearance at Origin Port</MenuItem>\n                  <MenuItem disabled={status.inTransitOverseas} value='In Transit Overseas'>In Transit to Overseas</MenuItem>\n                  <MenuItem disabled={status.clearanceAtDestinationPort} value='Clearance at Destination Port'>Clearance at Destination Port</MenuItem>\n                  <MenuItem disabled={status.inTransitDestination} value='In Transit Destination'>In Transit Destination</MenuItem>\n                  <MenuItem disabled={status.delivered} value='Delivered'>Delivered</MenuItem>\n\n                </Select>\n              </FormControl>\n            </Grid>\n\n            <Grid item xs={6}>\n              <LocalizationProvider dateAdapter={AdapterDayjs} >\n                <DateTimePicker\n                  label=\"Date and Time\"\n                  value={trackingDetails.dateTime}\n                  onChange={(newValue) => {\n                    console.log(newValue);\n                    setTrackingDetails({ ...trackingDetails, dateTime: newValue });\n                  }}\n                  format=\"DD/MM/YYYY hh:mm A\"\n                  slotProps={{ textField: { fullWidth: true, required: true } }}\n                />\n              </LocalizationProvider>\n            </Grid>\n\n\n            <Grid item xs={12}>\n              <TextField\n                multiline\n                rows={3}\n                label=\"Location\"\n                placeholder='Enter Location'\n                value={trackingDetails.location}\n                onChange={(e) => setTrackingDetails({ ...trackingDetails, location: e.target.value })}\n                fullWidth\n                required\n              />\n            </Grid>\n\n            <Grid item xs={6}>\n              <TextField\n                multiline\n                rows={2}\n                label=\"Message\"\n                placeholder='Enter Message'\n                value={trackingDetails.msg}\n                onChange={(e) => setTrackingDetails({ ...trackingDetails, msg: e.target.value })}\n                fullWidth\n                required\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <TextField\n                multiline\n                rows={2}\n                label=\"Exceptional Message\"\n                placeholder='Enter Exceptional Message'\n                value={trackingDetails.exceptionalMsg}\n                onChange={(e) => setTrackingDetails({ ...trackingDetails, exceptionalMsg: e.target.value })}\n                fullWidth\n              />\n            </Grid>\n\n            <Grid item xs={12} sx={{ display: 'flex', justifyContent: 'flex-end', gap: '10px' }}>\n              <Button onClick={handleUpdateTrackingDetails}\n                disabled={trackingDetails.value === '' ||\n                  trackingDetails.dateTime === null ||\n                  trackingDetails.location === '' ||\n                  trackingDetails.msg === ''\n                }\n                variant=\"contained\" color=\"primary\">\n                Update Status\n              </Button>\n              <Button onClick={() => {\n                handleCloseModal();\n                setTrackingDetails({\n                  value: '',\n                  location: '',\n                  dateTime: null,\n                  msg: '',\n                  exceptionalMsg: '',\n                  id: ''\n                })\n              }} variant='contained' color='error' sx={{ mr: 1 }}>\n                Cancel\n              </Button>\n            </Grid>\n          </Grid>\n\n\n        </Box>\n      </Modal >\n\n    </Container >\n  );\n}\n","import { Helmet } from 'react-helmet-async';\n// sections\nimport ThreeView from 'src/sections/three/view';\n\n// ----------------------------------------------------------------------\n\nexport default function Page() {\n  return (\n    <>\n      <Helmet>\n        <title>Shipment Tracking</title>\n      </Helmet>\n\n      <ThreeView />\n    </>\n  );\n}\n"],"names":["style","position","top","left","transform","width","bgcolor","borderRadius","boxShadow","height","p","ShipmentTrackingStatusUpdate","settings","useSettingsContext","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","data","setData","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","decryptedToken","accessToken","response","wrap","_context","prev","next","localStorage","getItem","constants","decryptToken","axios","endpoints","headers","Authorization","concat","sent","console","log","t0","err","enqueueSnackbar","variant","stop","apply","arguments","useEffect","columns","name","selector","row","index","sortable","trackingNo","statuses","length","value","center","formatDate","createdAt","cell","_jsx","Button","color","onClick","handleOpenModal","children","_useState5","_useState6","openModal","setOpenModal","_useState7","id","location","dateTime","msg","exceptionalMsg","_useState8","trackingDetails","setTrackingDetails","_useState9","preShipmentDoc","pickedUp","inTransitOrigin","clearanceAtOriginPort","inTransitOverseas","clearanceAtDestinationPort","inTransitDestination","delivered","_useState10","status","setStatus","statusObject","_objectSpread","dayjs","_id","handleCloseModal","_jsxs","Container","maxWidth","themeStretch","Typography","marginTop","DataTable","pagination","progressPending","Modal","open","Box","sx","Grid","container","spacing","item","xs","gutterBottom","FormControl","fullWidth","required","InputLabel","Select","labelId","label","onChange","e","target","MenuItem","disabled","LocalizationProvider","dateAdapter","AdapterDayjs","DateTimePicker","newValue","format","slotProps","textField","TextField","multiline","rows","placeholder","display","justifyContent","gap","then","res","catch","error","mr","Page","_Fragment","Helmet","ThreeView","utc"],"sourceRoot":""}